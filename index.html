<!DOCTYPE HTML>
<html>
  <head>
    <title>rails-reverts</title>
    <meta charset="UTF-8"/>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script type="text/javascript" src="https://raw.github.com/nnnick/Chart.js/master/Chart.min.js"></script>
  </head>
  <body>
    <script>
      var reverts = [["2013-05","16"],["2013-04","18"],["2013-03","10"],["2013-02","16"],["2013-01","19"],["2012-12","32"],["2012-11","16"],["2012-10","20"],["2012-09","9"],["2012-08","17"],["2012-07","10"],["2012-06","6"],["2012-05","25"],["2012-04","15"],["2012-03","9"],["2012-02","6"],["2012-01","19"],["2011-12","18"],["2011-11","25"],["2011-10","7"],["2011-09","10"],["2011-08","15"],["2011-07","15"],["2011-06","7"],["2011-05","11"],["2011-04","10"],["2011-03","5"],["2011-02","7"],["2011-01","5"],["2010-12","4"],["2010-11","6"],["2010-10","9"],["2010-09","5"],["2010-08","19"],["2010-07","8"],["2010-06","14"],["2010-05","7"],["2010-04","12"],["2010-03","14"],["2010-02","11"],["2010-01","10"],["2009-12","3"],["2009-11","12"],["2009-10","6"],["2009-09","4"],["2009-08","5"],["2009-07","6"],["2009-06","2"],["2009-05","6"],["2009-04","3"],["2009-03","8"],["2009-02","5"],["2009-01","4"],["2008-12","5"],["2008-11","9"],["2008-10","1"],["2008-09","7"],["2008-08","3"],["2008-07","8"],["2008-06","5"],["2008-04","4"],["2008-03","2"],["2008-02","3"],["2008-01","1"],["2007-12","2"],["2007-10","1"],["2007-09","2"],["2007-05","2"],["2007-03","1"],["2007-02","1"],["2007-01","1"],["2006-12","1"],["2006-10","2"],["2006-04","1"],["2006-03","1"],["2005-11","1"],["2005-08","1"],["2005-06","1"]].reverse();

      var labels = reverts.reduce(function(keys, element){
        keys.push(element[0])
        return keys;
      },[]);

      var data = reverts.reduce(function(keys, element){
        keys.push(parseInt(element[1]))
        return keys;
      },[]);

      var graph;

      graph = {
        labels: labels,
        datasets: [
          {
            fillColor: "rgba(235, 156, 87, 0.5)",
            strokeColor: "rgba(235, 156, 87, 1)",
            pointColor: "rgba(235, 156, 87, 1)",
            pointStrokeColor: "#fff",
            data: data
          }
        ]
      }

      jQuery(document).ready(function($) {
        ctx = $("#myChart").get(0).getContext("2d")
        new Chart(ctx).Line(graph)
      });

    </script>
    <canvas id="myChart" width="800" height="400"></canvas>
  </body>
</html>
